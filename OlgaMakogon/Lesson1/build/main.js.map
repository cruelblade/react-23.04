{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/actions/chatsActions/index.js","webpack:///./src/components/ChatList/ChatList.jsx","webpack:///./src/components/FormMessage/FormMessage.jsx","webpack:///./src/components/FormMessage/index.js","webpack:///./src/components/Header/Header.jsx","webpack:///./src/components/Layout/Layout.jsx","webpack:///./src/components/MessageItem/MessageItem.jsx","webpack:///./src/components/Messages/Messages.jsx","webpack:///./src/components/utils/constants.js","webpack:///./src/index.jsx","webpack:///./src/pages/About/About.jsx","webpack:///./src/pages/About/index.js","webpack:///./src/pages/Chats/Chats.jsx","webpack:///./src/pages/Chats/index.js","webpack:///./src/pages/EmptyPage/EmptyPage.jsx","webpack:///./src/pages/EmptyPage/index.js","webpack:///./src/pages/Home/Home.jsx","webpack:///./src/pages/Home/index.js","webpack:///./src/pages/RootRouter/RootRouter.jsx","webpack:///./src/pages/RootRouter/index.js","webpack:///./src/reducers/chatsReducer/index.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/messages/index.js","webpack:///./src/reducers/profileReducer/index.js","webpack:///./src/selectors/chatsSelectors.js","webpack:///./src/serviceWorker.js","webpack:///./src/store/botAnswer.js","webpack:///./src/store/index.js","webpack:///./src/store/loadStore.js"],"names":["sendRequest","createAction","getChatsSuccess","getChatsReject","setUpdatChatsIds","deleteUpdatedId","addNewMessage","addMessage","data","dispatch","getState","author","chatId","messagesIds","messages","lastId","length","setTimeout","text","id","uuidv4","fetchChatsData","fetch","then","res","json","reduce","all","item","chatsByIds","chatsIds","push","e","drawerWidth","useStyles","makeStyles","theme","drawer","width","flexShrink","whiteSpace","logo","marginRight","marginLeft","spacing","paper","color","palette","primary","drawerOpen","transition","transitions","create","easing","sharp","duration","enteringScreen","itemRoot","position","link","top","right","bottom","left","zIndex","appBar","toolbar","display","alignItems","justifyContent","padding","toolbarClose","footerList","marginTop","marginBottom","active","ChatList","props","classes","history","useHistory","logout","cx","root","chats","map","title","to","chatUpdatedIds","includes","index","mapStateToProps","store","getAllChats","getChatUpdatedIds","compose","connect","memo","FormMessage","event","target","value","name","setState","state","preventDefault","sendMessage","key","ctrlKey","metaKey","styles","container","onSubmit","onChange","onKeyDown","Component","propTypes","PropTypes","func","isRequired","paddingRight","leavingScreen","appBarShift","DRAWER_WIDTH","menuButton","menuButtonHidden","flexGrow","Header","chatName","defaultProps","string","Layout","children","node","message","maxWidth","border","borderRadius","boxShadow","shadows","backgroundColor","info","main","MessageItem","listStyles","minHeight","Messages","arrayOf","shape","BOT_NAME","createMuiTheme","background","ReactDOM","render","document","getElementById","About","console","log","muiStyles","flexDirection","Chats","params","useParams","useSelector","getChatMessages","useDispatch","withStyles","EmptyPage","Home","RootRouter","Promise","resolve","i","open","Chat","isFetching","mapDispatchToProps","initialState","updatedChatsIds","reducer","handleActions","action","payload","filter","rootReducer","combineReducers","chatsReducer","profile","profileReducer","messagesReducer","initialReducer","messagesByIds","initialStore","lastName","handleAction","getProfileFromStore","getChatsByIds","getChatsIds","createSelector","byIds","ids","getMessagesById","isLocalhost","Boolean","window","location","hostname","match","register","config","navigator","publicUrl","URL","process","env","PUBLIC_URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","response","contentType","headers","get","status","indexOf","unregister","reload","botAnswer","next","type","toString","logger","createLogger","collapsed","storeConfig","persistedState","loadState","createStore","applyMiddleware","thunk","subscribe","saveState","serializeState","localStorage","getItem","undefined","JSON","parse","err","stringify","setItem"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/index.jsx\",\"js/vendor\",\"styles\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { createAction } from 'redux-actions';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const sendRequest = createAction('chat/SEND_REQUEST');\r\nexport const getChatsSuccess = createAction('chats/GET_CHATS_SUCCESS');\r\nexport const getChatsReject = createAction('chats/GET_CHATS_REJECT');\r\nexport const setUpdatChatsIds = createAction('chat/SET_UPDATED_CHATS_IDS');\r\nexport const deleteUpdatedId = createAction('chat/DELETE_UPDATED_ID');\r\nexport const addNewMessage = createAction('chats/ADD_MESSAGE');\r\n\r\nexport const addMessage = data => (dispatch, getState) => {\r\n  const { author, chatId } = data;\r\n  if (author !== 'Bot') {\r\n    const { messagesIds } = getState().messages;\r\n    const lastId = messagesIds[messagesIds.length - 1];\r\n    setTimeout(() => {\r\n      dispatch(addNewMessage({ author: 'Bot', text: \"I'm bot\", chatId, id: lastId + 1 }));\r\n    }, 1000);\r\n  }\r\n  dispatch(addNewMessage({ ...data, id: uuidv4() }));\r\n};\r\n\r\nexport const fetchChatsData = () => dispatch => {\r\n  dispatch(sendRequest());\r\n  return fetch('/api/messages.json')\r\n    .then(res => {\r\n      return res.json();\r\n    })\r\n    .then(res => {\r\n      const data = res.reduce(\r\n        (all, item) => {\r\n          all.chatsByIds[item.id] = item;\r\n          all.chatsIds.push(item.id);\r\n\r\n          return all;\r\n        },\r\n        {\r\n          chatsByIds: {},\r\n          chatsIds: [],\r\n        },\r\n      );\r\n      dispatch(getChatsSuccess(data));\r\n      return true;\r\n    })\r\n    .catch(e => {\r\n      dispatch(getChatsReject());\r\n      return false;\r\n    })\r\n    .finally(() => {});\r\n};","import React, { memo } from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport cx from 'classnames';\r\nimport {\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { getAllChats, getChatUpdatedIds } from '../../selectors/chatsSelectors';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n\r\n  logo: {\r\n    marginRight: 'auto',\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n\r\n  paper: {\r\n    color: theme.palette.text.primary,\r\n  },\r\n\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n\r\n  itemRoot: {\r\n    position: 'relative',\r\n    whiteSpace: 'pre-line',\r\n  },\r\n\r\n  link: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    zIndex: theme.zIndex.appBar,\r\n  },\r\n\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    padding: theme.spacing(3, 2),\r\n  },\r\n\r\n  toolbarClose: {\r\n    justifyContent: 'flex-start',\r\n  },\r\n\r\n  footerList: {\r\n    marginTop: 'auto',\r\n    marginBottom: theme.spacing(5),\r\n  },\r\n\r\n  active: {\r\n    color: 'red',\r\n  },\r\n}));\r\n\r\nconst ChatList = props => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const logout = () => {\r\n    history.push('/chat/1');\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"permanent\"\r\n      className={cx(classes.drawer, classes.drawerOpen)}\r\n      classes={{\r\n        paper: cx(classes.paper, classes.drawerOpen),\r\n      }}\r\n    >\r\n      <div className={classes.toolbar}>\r\n        <Typography variant=\"body1\">Список чатов</Typography>\r\n      </div>\r\n      <Link to=\"/\" key=\"home-page\">\r\n        <ListItem\r\n          classes={{\r\n            root: classes.itemRoot,\r\n          }}\r\n          button\r\n        >\r\n          <ListItemIcon>\r\n            <MenuIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Home</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <List disablePadding>\r\n        {props.chats.map(({ id, title, to }) => (\r\n          <Link to={to} key={title}>\r\n            <ListItem\r\n              classes={{\r\n                root: classes.itemRoot,\r\n              }}\r\n              className={cx({ [classes.active]: props.chatUpdatedIds.includes(id) })}\r\n              button\r\n            >\r\n              <ListItemIcon>\r\n                <MenuIcon />\r\n              </ListItemIcon>\r\n              <ListItemText>{title}</ListItemText>\r\n            </ListItem>\r\n          </Link>\r\n        ))}\r\n      </List>\r\n      <List className={classes.footerList} disablePadding>\r\n        {['Настройки', 'Помощь'].map((text, index) => (\r\n          <ListItem\r\n            classes={{\r\n              root: classes.itemRoot,\r\n            }}\r\n            button\r\n            key={text}\r\n          >\r\n            <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n            <ListItemText>{text}</ListItemText>\r\n          </ListItem>\r\n        ))}\r\n        <Link to=\"/about\" key=\"about-page\">\r\n          <ListItem\r\n            classes={{\r\n              root: classes.itemRoot,\r\n            }}\r\n            button\r\n          >\r\n            <ListItemIcon>\r\n              <MenuIcon />\r\n            </ListItemIcon>\r\n            <ListItemText>About</ListItemText>\r\n          </ListItem>\r\n        </Link>\r\n        <ListItem\r\n          key=\"logout-btn\"\r\n          classes={{\r\n            root: classes.itemRoot,\r\n          }}\r\n          button\r\n          onClick={logout}\r\n        >\r\n          <ListItemIcon>\r\n            <ExitToAppIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Выйти</ListItemText>\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = store => ({\r\n  chats: getAllChats(store),\r\n  chatUpdatedIds: getChatUpdatedIds(store),\r\n});\r\n\r\nexport default compose(connect(mapStateToProps), memo)(ChatList);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField, IconButton } from '@material-ui/core';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport styles from './index.css';\r\n\r\nclass FormMessage extends Component {\r\n  state = {\r\n    text: '',\r\n    author: '',\r\n  };\r\n\r\n  onChange = event => {\r\n    const { value, name } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  sendMessage = () => {\r\n    const { addNewMessage } = this.props;\r\n    const { text, author } = this.state;\r\n\r\n    addNewMessage({ author, text });\r\n    this.setState({\r\n      text: '',\r\n    });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.sendMessage();\r\n  };\r\n\r\n  onKeyDown = e => {\r\n    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {\r\n      this.sendMessage();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { text, author } = this.state;\r\n\r\n    return (\r\n      <form className={styles.container} onSubmit={this.onSubmit}>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          label=\"Автор\"\r\n          name=\"author\"\r\n          onChange={this.onChange}\r\n          value={author}\r\n        />\r\n        <TextField\r\n          id=\"standard-multiline-flexible\"\r\n          label=\"Текст сообщения\"\r\n          name=\"text\"\r\n          multiline\r\n          rowsMax={4}\r\n          onChange={this.onChange}\r\n          onKeyDown={this.onKeyDown}\r\n          value={text}\r\n        />\r\n        <IconButton type=\"submit\" color=\"primary\">\r\n          <SendIcon />\r\n        </IconButton>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nFormMessage.propTypes = {\r\n  addNewMessage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default FormMessage;","export { default } from \"./FormMessage\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport { AppBar, Toolbar, IconButton, Typography, Badge, makeStyles } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { DRAWER_WIDTH } from '../utils/constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: DRAWER_WIDTH,\r\n    width: `calc(100% - ${DRAWER_WIDTH}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Header = ({ chatName }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <AppBar position=\"absolute\" className={cx(classes.appBar, classes.appBarShift)}>\r\n      <Toolbar className={classes.toolbar}>\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          className={cx(classes.menuButton, classes.menuButtonHidden)}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Typography\r\n          component=\"h1\"\r\n          variant=\"h6\"\r\n          color=\"inherit\"\r\n          noWrap\r\n          className={classes.title}\r\n        >\r\n          {chatName}\r\n        </Typography>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nHeader.defaultProps = {\r\n  chatName: 'Чат номер 1',\r\n};\r\n\r\nHeader.propTypes = {\r\n  chatName: PropTypes.string,\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Header from '../Header/Header';\r\nimport ChatList from '../ChatList/ChatList';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    marginTop: theme.spacing(8),\r\n  },\r\n}));\r\n\r\nconst Layout = ({ children }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main className={classes.root}>\r\n        <ChatList ownProps=\"мой собственный проп\" />\r\n        {children}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\nLayout.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default Layout;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { ListItem, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    item: {},\r\n    message: {\r\n      maxWidth: '75%',\r\n      border: 0,\r\n      borderRadius: 12,\r\n      boxShadow: theme.shadows[5],\r\n      color: 'white',\r\n      padding: theme.spacing(1, 2),\r\n      backgroundColor: theme.palette.info.main,\r\n    },\r\n    left: {\r\n      justifyContent: 'flex-start',\r\n    },\r\n    right: {\r\n      justifyContent: 'flex-end',\r\n    },\r\n  };\r\n});\r\n\r\nconst MessageItem = ({ author, text }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ListItem\r\n      color=\"primary\"\r\n      className={cx(classes.item, {\r\n        [classes.left]: author !== 'Bot',\r\n        [classes.right]: author === 'Bot',\r\n      })}\r\n    >\r\n      <Typography\r\n        component=\"p\"\r\n        variant=\"body1\"\r\n        color=\"textPrimary\"\r\n        className={classes.message}\r\n      >\r\n        {text}\r\n        <Typography variant=\"caption\" display=\"block\">\r\n          {author}\r\n        </Typography>\r\n      </Typography>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nMessageItem.propTypes = {\r\n  author: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container, List } from '@material-ui/core';\r\nimport MessageItem from '../MessageItem/MessageItem';\r\n\r\nconst listStyles = {\r\n  border: '1px solid #333',\r\n  borderRadius: 3,\r\n  minHeight: 300,\r\n};\r\n\r\nconst Messages = ({ messages }) => {\r\n  return (\r\n    <Container maxWidth=\"sm\" style={listStyles}>\r\n      <List>\r\n        {messages.map(({ text, author }, index) => (\r\n          <MessageItem key={index} text={text} author={author} />\r\n        ))}\r\n      </List>\r\n    </Container>\r\n  );\r\n};\r\n\r\nMessages.propTypes = {\r\n  messages: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      text: PropTypes.string,\r\n      author: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default Messages;","export const BOT_NAME = 'Bot';\r\nexport const DRAWER_WIDTH = 240;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport RootRouter from './pages/RootRouter';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\nimport store from './store';\r\n\r\nconst theme = createMuiTheme({\r\n  background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n});\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ThemeProvider theme={theme}>\r\n      <BrowserRouter>\r\n        <CssBaseline />\r\n        <RootRouter />\r\n      </BrowserRouter>\r\n    </ThemeProvider>\r\n  </Provider>,\r\n  document.getElementById('hello-example'),\r\n);\r\n\r\n// serviceWorker.register();\r\n","import React from 'react';\r\n\r\nconst About = props => {\r\n  console.log(props);\r\n  return <div>Страница About</div>;\r\n};\r\n\r\nexport default About;","export { default } from './About';","import React, { memo } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Box } from '@material-ui/core';\r\nimport FormMessage from '../../components/FormMessage';\r\nimport Messages from '../../components/Messages/Messages';\r\nimport { getChatMessages } from '../../selectors/chatsSelectors';\r\nimport { addMessage } from '../../actions/chatsActions';\r\n\r\nconst muiStyles = theme => {\r\n  return {\r\n    paper: {\r\n      marginTop: theme.spacing(7),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n  };\r\n};\r\n\r\nconst Chats = () => {\r\n  const params = useParams();\r\n  const messages = useSelector(store => getChatMessages(store, params));\r\n  const dispatch = useDispatch();\r\n\r\n  const addNewMessage = data => {\r\n    const { chatId } = params;\r\n    dispatch(addMessage({ ...data, chatId }));\r\n  };\r\n\r\n  return (\r\n    <Box p={3} mt={2} flexGrow={1}>\r\n      <Messages messages={messages} />\r\n      <FormMessage addNewMessage={addNewMessage} />\r\n    </Box>\r\n  );\r\n};\r\n\r\nChats.defaultProps = {\r\n  messages: [],\r\n};\r\n\r\nexport default memo(withStyles(muiStyles)(Chats));","export { default } from './Chats';","import React from 'react';\r\n\r\nconst EmptyPage = () => {\r\n  return <div>404 страница</div>;\r\n};\r\n\r\nexport default EmptyPage;","export { default } from './EmptyPage';","import React from 'react';\r\n\r\nconst Home = props => {\r\n  console.log(props);\r\n  return <div>страница Home</div>;\r\n};\r\n\r\nexport default Home;","export { default } from './Home';","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Home from '../Home';\r\nimport About from '../About';\r\nimport Chat from '../Chats';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport EmptyPage from '../EmptyPage';\r\nimport { fetchChatsData } from '../../actions/chatsActions';\r\n\r\nclass RootRouter extends Component {\r\n  componentDidMount() {\r\n    const { fetchChatsData } = this.props;\r\n\r\n   \r\n    new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(true);\r\n      }, 1000);\r\n    }).then(res => {\r\n      console.log(res);\r\n    });\r\n\r\n    \r\n    fetchChatsData().then(i => {\r\n      console.log(i);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open } = this.props;\r\n    return (\r\n      <Layout>\r\n        <Backdrop open={open}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route path=\"/chats/:chatId\" component={Chat} />\r\n          <Route>\r\n            <EmptyPage />\r\n          </Route>\r\n        </Switch>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n  chats: store.chats,\r\n  open: store.chats.isFetching,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  fetchChatsData,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RootRouter);","export { default } from './RootRouter';","import { handleActions } from 'redux-actions';\r\nimport {\r\n  getChatsSuccess,\r\n  addNewMessage,\r\n  setUpdatChatsIds,\r\n  deleteUpdatedId,\r\n  sendRequest,\r\n} from '../../actions/chatsActions';\r\n\r\nconst initialState = { isFetching: false, chatsByIds: {}, chatsIds: [], updatedChatsIds: [] };\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [sendRequest]: state => ({ ...state, isFetching: true }),\r\n    [getChatsSuccess]: (state, action) => ({ ...state, ...action.payload, isFetching: false }),\r\n    [addNewMessage]: (state, { payload }) => ({\r\n      ...state,\r\n      chatsByIds: {\r\n        ...state.chatsByIds,\r\n        [payload.chatId]: {\r\n          ...state.chatsByIds[payload.chatId],\r\n          messages: [...state.chatsByIds[payload.chatId].messages, payload.id],\r\n        },\r\n      },\r\n    }),\r\n    [setUpdatChatsIds]: (state, { payload }) => ({\r\n      ...state,\r\n      updatedChatsIds: [...state.updatedChatsIds, payload],\r\n    }),\r\n    [deleteUpdatedId]: (state, { payload }) => ({\r\n      ...state,\r\n      updatedChatsIds: state.updatedChatsIds.filter(i => i !== payload),\r\n    }),\r\n  },\r\n  initialState,\r\n);\r\n\r\nexport default reducer;","import { combineReducers } from 'redux';\r\nimport chatsReducer from './chatsReducer';\r\nimport profileReducer from './profileReducer';\r\nimport messagesReducer from './messages';\r\n\r\nconst rootReducer = combineReducers({\r\n  chats: chatsReducer,\r\n  profile: profileReducer,\r\n  messages: messagesReducer,\r\n});\r\n\r\nexport default rootReducer;","import { handleActions } from 'redux-actions';\r\nimport { addNewMessage } from '../../actions/chatsActions';\r\n\r\nconst initialReducer = {\r\n  messagesByIds: {\r\n    1: {\r\n      id: 1,\r\n      text: 'привет, я бот из 1 чата',\r\n      author: 'Bot',\r\n    },\r\n    2: {\r\n      id: 2,\r\n      text: 'привет, я бот из 2 чата',\r\n      author: 'Bot',\r\n    },\r\n  },\r\n  messagesIds: [1, 2],\r\n};\r\n\r\nconst reducer = handleActions(\r\n  {\r\n    [addNewMessage]: (state, { payload }) => ({\r\n      messagesByIds: { ...state.messagesByIds, [payload.id]: payload },\r\n      messagesIds: [...state.messagesIds, payload.id],\r\n    }),\r\n  },\r\n  initialReducer,\r\n);\r\n\r\nexport default reducer;","import { handleAction } from 'redux-actions';\r\n\r\nconst initialStore = {\r\n  name: 'Alex',\r\n  lastName: 'Pog',\r\n};\r\n\r\nconst reducer = handleAction('', store => store, initialStore);\r\n\r\nexport default reducer;\r\n\r\nexport const getProfileFromStore = store => store.profile;","import { createSelector } from 'reselect';\r\n\r\nexport const getChatsByIds = store => store.chats.chatsByIds;\r\nexport const getChatsIds = store => store.chats.chatsIds;\r\n\r\nexport const getAllChats = createSelector(getChatsByIds, getChatsIds, (byIds, ids) =>\r\n  ids.map(key => byIds[key]),\r\n);\r\n\r\nexport const getMessagesById = store => store.messages.messagesByIds;\r\n\r\nexport const getChatMessages = (store, params) => {\r\n  const chatsByIds = getChatsByIds(store);\r\n  const messagesByIds = getMessagesById(store);\r\n\r\n  const { chatId } = params;\r\n\r\n  if (chatId in chatsByIds) {\r\n    return chatsByIds[chatId].messages.map(id => messagesByIds[id]);\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const getChatUpdatedIds = store => store.chats.updatedChatsIds;","/* tslint disable */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.1/8 is considered localhost for IPv4.\r\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n  );\r\n  \r\n  export function register(config) {\r\n    if ('serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(\r\n        process.env.PUBLIC_URL,\r\n        window.location.href,\r\n      );\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `./service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit http://bit.ly/CRA-PWA',\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log('No internet connection found. App is running in offline mode.');\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready.then(registration => {\r\n        registration.unregister();\r\n      });\r\n    }\r\n  }","import { setUpdatChatsIds, addNewMessage, deleteUpdatedId } from '../actions/chatsActions';\r\n\r\nconst botAnswer = store => next => action => {\r\n  if (action.type === addNewMessage.toString()) {\r\n    const { author, chatId } = action.payload;\r\n    if (author === 'Bot') {\r\n      store.dispatch(setUpdatChatsIds(+chatId));\r\n\r\n      setTimeout(() => {\r\n        store.dispatch(deleteUpdatedId(+chatId));\r\n      }, 2000);\r\n    }\r\n  }\r\n  return next(action);\r\n};\r\n\r\nexport default botAnswer;","import { createStore, applyMiddleware } from 'redux';\r\nimport { createLogger } from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers';\r\nimport { loadState, saveState } from './loadStore';\r\nimport botAnswer from './botAnswer';\r\n\r\nconst logger = createLogger({ collapsed: true });\r\n\r\nconst storeConfig = () => {\r\n  const persistedState = loadState();\r\n\r\n  const store = createStore(rootReducer, applyMiddleware(thunk, botAnswer, logger));\r\n\r\n  store.subscribe(() => {\r\n    saveState(store.getState());\r\n  });\r\n  return store;\r\n};\r\n\r\nexport default storeConfig();\r\n","export const loadState = () => {\r\n    try {\r\n      const serializeState = localStorage.getItem('guestStore');\r\n      if (serializeState === null) {\r\n        return undefined;\r\n      }\r\n      return JSON.parse(serializeState);\r\n    } catch (err) {\r\n      return undefined;\r\n    }\r\n  };\r\n  \r\n  export const saveState = state => {\r\n    try {\r\n      const serializeState = JSON.stringify(state);\r\n      localStorage.setItem('guestStore', serializeState);\r\n    } catch (err) {\r\n      \r\n    }\r\n  };"],"sourceRoot":""}